<div class="container">
    <div class='text-center'>
        <h2 style="color:#424949;">Registration</h2>
        <div class="row justify-content-center">
            <div class="col col-md-5">
                <mat-card>
                    <mat-card-content>
                        <div *ngIf='flashMsg'>
                            <div class="alert">
                                {{ warningMsg }}
                                <button type="button" class="close" aria-label="Close" (click)="flashMsg=!flashMsg">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                        </div>
                        <form class="form-signup" [formGroup]='signupForm' (ngSubmit)='registerUser(signupForm)'>
                            <mat-form-field class=" form-group form-signup-full-width">
                                <mat-label>Email</mat-label>
                                <input matInput formControlName="email" placeholder="Ex. abc@example.com">
                                <mat-error *ngIf="signupForm.controls['email'].hasError('pattern')&& signupForm.controls['email'].dirty || signupForm.controls['email'].touched && !signupForm.controls['email'].hasError('required')">
                                    <strong> Please enter a valid email address</strong>
                                </mat-error>
                                <mat-error *ngIf="signupForm.controls['email'].hasError('required') ">
                                    <strong> Email is required</strong>
                                </mat-error>
                            </mat-form-field>

                            <mat-form-field class=" form-group form-signup-full-width">
                                <mat-label>First Name</mat-label>
                                <input matInput formControlName="fname" placeholder="Enter first name">
                                <mat-error *ngIf="signupForm.controls['fname'].hasError('pattern') && !signupForm.controls['fname'].hasError('required')">
                                    <strong> Please enter a valid first name</strong>
                                </mat-error>
                                <mat-error *ngIf="signupForm.controls['fname'].hasError('required') ">
                                    <strong> First Name is required</strong>
                                </mat-error>
                                <div *ngIf="signupForm.controls['fname'].hasError('pattern')  && signupForm.controls['fname'].hasError('required') " class="alert alert-danger">
                                    Please enter a valid first name!
                                </div>
                            </mat-form-field>
                            <!--
                            <div class="from-group form-signup-full-width">
                                <input matInput formControlName="fname" placeholder="Enter first name">
                                <div *ngIf = "fname.pattern && fname.required" class="alert alert-danger">
                                    Please enter a valid first name!
                                </div>
                            </div>
                        -->
                            <mat-form-field class=" form-group form-signup-full-width">
                                <mat-label>Last Name</mat-label>
                                <input matInput formControlName="lname" placeholder="Enter last name">
                                <mat-error *ngIf="signupForm.controls['lname'].hasError('pattern')  && !signupForm.controls['lname'].hasError('required') ">
                                    <strong> Please enter a valid last name</strong>
                                </mat-error>
                                <mat-error *ngIf="signupForm.controls['lname'].hasError('required')">
                                    <strong> Last Name is required</strong>
                                </mat-error>
                            </mat-form-field>

                            <mat-form-field class=" form-group form-signup-full-width">
                                <mat-label>Password</mat-label>
                                <input matInput type='password' formControlName="password" name="password" autocomplete="on">
                                <mat-error *ngIf="signupForm.controls['password'].hasError('pattern') && !signupForm.controls['password'].hasError('required')">
                                    *Password should contain at least one uppercase or one lowercase and length should
                                    be of
                                    6 or more characters
                                </mat-error>
                                <mat-error *ngIf="signupForm.controls['password'].hasError('required') ">
                                    <strong> Password is required</strong>
                                </mat-error>
                            </mat-form-field>

                            <mat-form-field class=" form-group form-signup-full-width">
                                <mat-label>Confirm Password</mat-label>
                                <input matInput type='password' formControlName="cnfPassword" name='password' autocomplete="on">
                                <mat-error
                                    *ngIf="signupForm.get('cnfPassword').errors && signupForm.get('cnfPassword').errors.ConfirmPassword">
                                    *Password is not matching
                                </mat-error>
                                <mat-error *ngIf="signupForm.controls['cnfPassword'].hasError('required') ">
                                    <strong> Confirm password is required</strong>
                                </mat-error>
                            </mat-form-field>

                            <mat-form-field class=" form-group form-signup-full-width">
                                <mat-label>Gender</mat-label>
                                <mat-select matNativeControl required formControlName="gender">
                                    <mat-option value="Male">Male</mat-option>
                                    <mat-option value="Female">Female</mat-option>
                                </mat-select>
                                <mat-error *ngIf="signupForm.controls['gender'].hasError('required') ">
                                    <strong> Gender is required</strong>
                                </mat-error>
                            </mat-form-field>

                            <mat-form-field class=" form-group form-signup-full-width">
                                <mat-label>Address</mat-label>
                                <input matInput formControlName="address" placeholder="Enter address">
                                <mat-error *ngIf="signupForm.controls['address'].hasError('required') && !signupForm.controls['address'].pristine">
                                    Address is <strong>required</strong>
                                </mat-error>
                                <mat-error *ngIf="signupForm.controls['address'].hasError('required') && signupForm.controls['address'].touched">
                                    Address is <strong>required</strong>
                                </mat-error>
                            </mat-form-field>

                            <div class="form-group text-left">
                                <label>Upload profile pic:</label>

                                <input type="file" formControlName="profileImage" multiple size="50" accept="image/*"
                                    (change)="getFiles($event)">
                                <mat-error *ngIf="signupForm.controls['profileImage'].hasError('pattern')">
                                    Only images can accepted!
                                </mat-error>
                            </div>
                            <hr>
                            <button mat-raised-button type="submit" [disabled]='!signupForm.valid'
                                color="primary">Register</button>

                        </form>
                    </mat-card-content>
                </mat-card>
            </div>
        </div>
    </div>
</div>